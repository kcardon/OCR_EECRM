Watching for file changes with StatReloader
Attempting to connect to API
Internal Server Error: /employees/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 96, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Client' object has no attribute 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 43, in list
    return self.get_paginated_response(serializer.data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 768, in data
    ret = super().data
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 686, in to_representation
    return [
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 687, in <listcomp>
    self.child.to_representation(item) for item in iterable
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `password` on serializer `EmployeeSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Client` instance.
Original exception text was: 'Client' object has no attribute 'password'.
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py changed, reloading.
Watching for file changes with StatReloader
Attempting to connect to API
Unauthorized: /groups/
Unauthorized: /employees/
Unauthorized: /employees/3/
Unauthorized: /employees/9/
Unauthorized: /clients/
Unauthorized: /clients/
Unauthorized: /clients/1/
Unauthorized: /clients/1/
Unauthorized: /clients/3/
Unauthorized: /contracts_status/
Unauthorized: /contracts/
Unauthorized: /contracts/
Unauthorized: /contracts/1/
Unauthorized: /contracts/1/
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /employees/3/
Attempting to connect to API
Employee with pk 3 not found.
Internal Server Error: /employees/3/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 67, in update
    serializer.is_valid(raise_exception=True)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 227, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 426, in run_validation
    value = self.to_internal_value(data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 483, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 751, in run_validation
    return super().run_validation(data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 548, in run_validation
    self.run_validators(value)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 560, in run_validators
    validator(value, self)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\validators.py", line 72, in __call__
    queryset = self.exclude_current_instance(queryset, instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\validators.py", line 60, in exclude_current_instance
    return queryset.exclude(pk=instance.pk)
AttributeError: 'Response' object has no attribute 'pk'
Attempting to connect to API
Attempting to connect to API
Internal Server Error: /employees/7/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 65, in update
    instance = self.get_object()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py", line 57, in get_object
    self.check_object_permissions(self.request, obj)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 345, in check_object_permissions
    if not permission.has_object_permission(request, self, obj):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\permisions.py", line 17, in has_object_permission
    return self.can_update_employee(request, obj)
TypeError: can_update_employee() takes 2 positional arguments but 3 were given
Unauthorized: /employees/7/
Attempting to connect to API
Attempting to connect to API
Employee with pk 6 not found.
Internal Server Error: /employees/6/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 96, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Response' object has no attribute 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 56, in retrieve
    return Response(serializer.data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 555, in data
    ret = super().data
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `password` on serializer `EmployeeSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Response` instance.
Original exception text was: 'Response' object has no attribute 'password'.
Attempting to connect to API
Employee with pk 6 not found.
Internal Server Error: /employees/6/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 446, in get_attribute
    return get_attribute(instance, self.source_attrs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 96, in get_attribute
    instance = getattr(instance, attr)
AttributeError: 'Response' object has no attribute 'password'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 56, in retrieve
    return Response(serializer.data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 555, in data
    ret = super().data
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 253, in data
    self._data = self.to_representation(self.instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 509, in to_representation
    attribute = field.get_attribute(instance)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\fields.py", line 479, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `password` on serializer `EmployeeSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `Response` instance.
Original exception text was: 'Response' object has no attribute 'password'.
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\events\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\views.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\models.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Unauthorized: /clients/
Unauthorized: /contracts/
Internal Server Error: /contracts/1/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\fields\__init__.py", line 2055, in get_prep_value
    return int(value)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'Client'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 68, in update
    self.perform_update(serializer)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 78, in perform_update
    serializer.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 207, in save
    self.instance = self.update(self.instance, validated_data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 1006, in update
    instance.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 892, in save_base
    post_save.send(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 176, in send
    return [
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py", line 27, in update_client_status
    client = Client.objects.get(pk=instance.client)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\query.py", line 623, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\sql\query.py", line 1502, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\sql\query.py", line 1533, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\sql\query.py", line 1448, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\sql\query.py", line 1275, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\fields\__init__.py", line 2057, in get_prep_value
    raise e.__class__(
TypeError: Field 'id' expected a number but got <Client: sales_client_edited sales_client_edited>.
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /contracts/1/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 68, in update
    self.perform_update(serializer)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 78, in perform_update
    serializer.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 207, in save
    self.instance = self.update(self.instance, validated_data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 1006, in update
    instance.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 892, in save_base
    post_save.send(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 176, in send
    return [
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py", line 28, in update_client_status
    if instance.status > 1 and client.is_client == False:
TypeError: '>' not supported between instances of 'ContractStatus' and 'int'
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /contracts/1/
Traceback (most recent call last):
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 68, in update
    self.perform_update(serializer)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\mixins.py", line 78, in perform_update
    serializer.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 207, in save
    self.instance = self.update(self.instance, validated_data)
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\rest_framework\serializers.py", line 1006, in update
    instance.save()
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\db\models\base.py", line 892, in save_base
    post_save.send(
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 176, in send
    return [
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\env\lib\site-packages\django\dispatch\dispatcher.py", line 177, in <listcomp>
    (receiver, receiver(signal=self, sender=sender, **named))
  File "C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py", line 28, in update_client_status
    if int(instance.status) > 1 and client.is_client == False:
TypeError: int() argument must be a string, a bytes-like object or a number, not 'ContractStatus'
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Watching for file changes with StatReloader
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Not Found: /favicon.ico
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /favicon.ico
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\persons\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\models.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /favicon.ico
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\contracts\admin.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\events\admin.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Attempting to connect to API
Forbidden: /contracts/
Attempting to connect to API
Forbidden: /clients/4/
Forbidden: /clients/1/
Not Found: /favicon.ico
Watching for file changes with StatReloader
Forbidden: /contracts/
Forbidden: /contracts/
Forbidden: /contracts/
Watching for file changes with StatReloader
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
Not Found: /favicon.ico
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\EECRM\settings.py changed, reloading.
Watching for file changes with StatReloader
C:\Users\Utilisateur\Documents\Boulot\Python\Formation DA Python\Projet 12\OCR_EECRM\EECRM\EECRM\settings.py changed, reloading.
Watching for file changes with StatReloader
